sudo: false
language: java
before_script:
    - lein deps
    - yarn install
jobs:
    include:
        - stage: "Lint"
          script: lein eastwood
          script: lein bikeshed
          script: yarn run lint
          script: yarn run flow

        - stage: "Test"
          install: skip
          script: yarn run test-karma
          script: yarn run test-unit

cache:
    directories:
        - node_modules
        - ~/.yarn
        - ~/.yarn-cache
